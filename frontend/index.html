<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>aiChat - New</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/preline@3.2.2/dist/preline.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/preline@3.2.2/variants.min.css" />
  <link rel="icon" type="image/png" href="assets/bonzer_favicon.png" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="agents.css" />
  <link rel="stylesheet" href="characters-modal.css" />
  <link rel="stylesheet" href="components/components.css" />
</head>

<body>
  <div class="app" id="app">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="brand">
          <img class="brand-logo" src="assets/bonzer_favicon.png" alt="aiChat" />
          <div class="brand-text">
            <p class="brand-name">aiChat</p>
          </div>
        </div>
        <button id="collapseBtn" class="collapse-btn" aria-label="Collapse sidebar" title="Toggle sidebar">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect width="18" height="18" x="3" y="3" rx="2" />
            <path d="M9 3v18" />
            <path d="m16 15-3-3 3-3" />
          </svg>
        </button>
      </div>

      <div class="sidebar-body">
        <div class="search">
          <svg class="search-icon" viewBox="0 0 24 24" stroke="currentColor" fill="none">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
          </svg>
          <input id="searchInput" type="text" placeholder="Search" />
          <span class="kbd">⌘K</span>
        </div>

        <nav class="nav" id="nav">
          <a id="nav-home" class="nav-link" href="#/home" data-route="home">
            <img class="nav-icon" width="24" height="24" src="assets/homes.png" alt="Home" />
            <span class="nav-label">Home</span>
          </a>
          <a id="nav-models" class="nav-link" href="#/models" data-route="models">
            <img class="nav-icon" width="24" height="24" src="assets/models.png" alt="Models" />
            <span class="nav-label">Models</span>
          </a>
          <a id="nav-chats" class="nav-link" href="#/chats" data-route="chats">
            <img class="nav-icon" width="24" height="24" src="assets/chats.png" alt="Chats" />
            <span class="nav-label">Chats</span>
          </a>
          <a id="nav-characters" class="nav-link" href="#/characters" data-route="characters">
            <img class="nav-icon" width="24" height="24" src="assets/characters.png" alt="Characters" />
            <span class="nav-label">Characters</span>
          </a>
          <a id="nav-agents" class="nav-link" href="#/agents" data-route="agents">
            <img class="nav-icon" width="24" height="24" src="assets/agents.png" alt="Agents" />
            <span class="nav-label">Agents</span>
          </a>
          <a id="nav-speech" class="nav-link" href="#/speech" data-route="speech">
            <img class="nav-icon" width="24" height="24" src="assets/speech.png" alt="Speech" />
            <span class="nav-label">Speech</span>
          </a>
          <a id="nav-settings" class="nav-link" href="#/settings" data-route="settings">
            <img class="nav-icon" width="24" height="24" src="assets/settings.png" alt="Settings" />
            <span class="nav-label">Settings</span>
          </a>
        </nav>
      </div>

      <div class="sidebar-footer">
        <div class="profile">
          <img class="profile-avatar" src="assets/bonzer_favicon.png" alt="User" />
          <div class="profile-info">
            <p class="profile-name">aiChat</p>
          </div>
        </div>
        <button class="more-btn" aria-label="More" title="More">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h.01M12 12h.01M19 12h.01">
            </path>
          </svg>
        </button>
      </div>
    </aside>

    <main class="main">
      <section id="content-area" class="content-area" aria-live="polite">
        <div class="tab-panel" id="tab-home" data-route="home" role="tabpanel" aria-labelledby="nav-home">
          <!-- Characters Drawer (Bottom Sheet) -->
          <button id="charactersDrawerToggle" class="characters-drawer-toggle" aria-label="Toggle characters drawer"
            aria-expanded="false" aria-controls="charactersDrawer">
            <svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path
                d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" />
            </svg>
          </button>

          <aside id="charactersDrawer" class="characters-drawer" role="complementary" aria-hidden="true">
            <div class="characters-drawer-header">
              <div class="characters-drawer-title">Active Characters</div>
            </div>

            <div class="characters-drawer-body">
              <div id="characters-drawer-content" class="characters-drawer-content">
                <!-- Character avatars will be populated here -->
                <div class="character-avatar-placeholder">
                  <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    opacity="0.4">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  <p>No active characters</p>
                </div>
              </div>
            </div>
          </aside>

          <div id="chat-column" class="chat-column">
            <div id="messages-area" class="messages-area">
              <!-- Chat messages will appear here -->
            </div>

            <div class="chat-editor-wrap">
              <div class="chat-accent-frame">
                <div class="chat-editor">
                  <div class="chat-topbar">
                    <div style="position: relative">
                      <button id="promptsButton" class="prompts-button" aria-haspopup="menu" aria-expanded="false">
                        <svg class="prompts-button-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                          <path
                            d="M4 7a3 3 0 013-3h10a3 3 0 013 3v9a3 3 0 01-3 3H7a3 3 0 01-3-3V7zm3-1a1 1 0 00-1 1v1h12V7a1 1 0 00-1-1H7zm11 5H6v5a1 1 0 001 1h10a1 1 0 001-1v-5z" />
                        </svg>
                        <span>Prompts</span>
                        <svg class="prompts-button-caret" viewBox="0 0 20 20" fill="currentColor">
                          <path
                            d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" />
                        </svg>
                      </button>
                      <div id="promptsMenu" class="popover side-top"
                        style="right: 0; margin-top: 8px; width: 18rem; display: none" role="menu"
                        aria-labelledby="hc-promptsBtn">
                        <div class="menu-scroll">
                          <div class="menu-section">Quick prompts</div>
                          <button class="menu-item" data-prompt="Summarize this clearly: ">
                            <div class="menu-left">
                              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
                                style="color: var(--accent-400)">
                                <path d="M4 6h16v2H4V6zm0 5h10v2H4v-2zm0 5h16v2H4v-2z" />
                              </svg>
                              <span>Summarize</span>
                            </div>
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor" style="opacity: 0.6">
                              <path d="M6 10h8v1H6z" />
                            </svg>
                          </button>
                          <button class="menu-item" data-prompt="Explain like I'm five: ">
                            <div class="menu-left">
                              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
                                style="color: var(--accent-400)">
                                <path d="M12 3l4 4H8l4-4zm0 18l-4-4h8l-4 4z" />
                              </svg>
                              <span>Explain</span>
                            </div>
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor" style="opacity: 0.6">
                              <path d="M6 10h8v1H6z" />
                            </svg>
                          </button>
                          <button class="menu-item" data-prompt="Create bullet points for: ">
                            <div class="menu-left">
                              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
                                style="color: var(--accent-400)">
                                <path
                                  d="M7 5h14v2H7V5zM3 5h2v2H3V5zm4 6h14v2H7v-2zM3 11h2v2H3v-2zm4 6h14v2H7v-2zM3 17h2v2H3v-2z" />
                              </svg>
                              <span>Bullet list</span>
                            </div>
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor" style="opacity: 0.6">
                              <path d="M6 10h8v1H6z" />
                            </svg>
                          </button>
                          <div class="menu-section">Code</div>
                          <button class="menu-item"
                            data-prompt="Refactor the following code and explain improvements: ">
                            <div class="menu-left">
                              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
                                style="color: var(--accent-400)">
                                <path d="M7 7h10v2H7zM7 11h10v2H7zM7 15h6v2H7z" />
                              </svg>
                              <span>Refactor</span>
                            </div>
                            <svg width="16" height="16" class="menu-check" viewBox="0 0 20 20" fill="currentColor">
                              <path d="M6 10h8v1H6z" />
                            </svg>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <textarea id="chatTextArea" class="chat-text-area scroll-shadow" rows="3" placeholder=""></textarea>
                  <div class="chat-bottombar">
                    <div class="left">
                      <div style="position: relative">
                        <button id="modelsButton" class="models-button" aria-haspopup="menu" aria-expanded="false">
                          <svg class="models-button-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z" />
                          </svg>
                          <span id="modelsButtonLabel">models</span>
                          <svg class="models-button-caret" viewBox="0 0 20 20" fill="currentColor">
                            <path
                              d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" />
                          </svg>
                        </button>
                        <div id="modelsMenu" class="popover side-bottom" style="left: 0; bottom: 42px; display: none"
                          role="menu" aria-labelledby="hc-modelBtn">
                          <div class="menu-section">Select model</div>
                          <div class="menu-scroll">
                            <div class="menu-section">Loading models…</div>
                          </div>
                        </div>
                      </div>
                      <button id="voiceButton" class="voice-button" title="Toggle microphone" aria-pressed="false">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"
                          style="color: var(--accent-400)">
                          <path
                            d="M12 14a3 3 0 003-3V7a3 3 0 10-6 0v4a3 3 0 003 3zm-5-3a5 5 0 1010 0h2a7 7 0 01-6 6.92V21h-2v-3.08A7 7 0 017 11h2z" />
                        </svg>
                      </button>
                    </div>
                    <div>
                      <span id="wsIndicator" class="ws-indicator" title="Server connection status"
                        aria-hidden="true"></span>
                      <button id="sendButton" class="send-button">
                        <span>Send</span>
                        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                          <path
                            d="M2.94 2.94l14.12 7.06-14.12 7.06 3.53-7.06-3.53-7.06zm6.48 7.06l-1.9 3.8 7.61-3.8-7.61-3.8 1.9 3.8z" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Right-side Settings Drawer (Home only) -->
          <button id="settingsDrawerToggle" class="settings-drawer-toggle" aria-label="Toggle settings drawer"
            aria-expanded="false" aria-controls="settingsDrawer">
            <svg width="18" height="18" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
              <path
                d="M12.3 15.3a1 1 0 01-1.4 0l-4-4a1 1 0 010-1.4l4-4a1 1 0 111.4 1.4L9.42 10l2.88 2.88a1 1 0 010 1.42z" />
            </svg>
          </button>

          <aside id="settingsDrawer" class="settings-drawer" role="complementary" aria-hidden="true">
            <div class="drawer-header">
              <div class="drawer-tabs" role="tablist">
                <button id="drawer-tab-model" class="drawer-tab active" data-target="drawer-panel-model" role="tab"
                  aria-selected="true">Model</button>
                <button id="drawer-tab-speech" class="drawer-tab" data-target="drawer-panel-speech" role="tab"
                  aria-selected="false">Speech</button>
                <span class="drawer-tab-indicator"></span>
              </div>
            </div>

            <div class="drawer-body">
              <!-- Model Settings Panel -->
              <div class="drawer-panel active" id="drawer-panel-model" role="tabpanel"
                aria-labelledby="drawer-tab-model">
                <div class="model-selector-section">
                  <label class="section-label" for="modelSelect">Model</label>
                  <select id="modelSelect" class="model-dropdown">
                    <option value="">Loading models…</option>
                  </select>
                </div>

                <div class="system-prompt-section">
                  <label class="section-label" for="systemPrompt">System Prompt</label>
                  <textarea id="systemPrompt" class="system-prompt-textarea"
                    placeholder="Enter a system prompt to guide the AI..."></textarea>
                </div>

                <div class="model-parameters-section">
                  <div class="section-label">Model Parameters</div>
                  <div class="model-parameters">
                    <div class="parameter-group">
                      <div class="parameter-header">
                        <span class="parameter-label">Temperature</span>
                        <span class="parameter-value" id="temperatureValue">0.98</span>
                      </div>
                      <input id="temperature" class="parameter-slider" type="range" min="0" max="2" step="0.01"
                        value="0.98" />
                    </div>
                    <div class="parameter-group">
                      <div class="parameter-header">
                        <span class="parameter-label">Top P</span>
                        <span class="parameter-value" id="topPValue">0.95</span>
                      </div>
                      <input id="topP" class="parameter-slider" type="range" min="0" max="1" step="0.01" value="0.95" />
                    </div>
                    <div class="parameter-group">
                      <div class="parameter-header">
                        <span class="parameter-label">Min P</span>
                        <span class="parameter-value" id="minPValue">0.00</span>
                      </div>
                      <input id="minP" class="parameter-slider" type="range" min="0" max="1" step="0.01" value="0.00" />
                    </div>
                    <div class="parameter-group">
                      <div class="parameter-header">
                        <span class="parameter-label">Top K</span>
                        <span class="parameter-value" id="topKValue">25</span>
                      </div>
                      <input id="topK" class="parameter-slider" type="range" min="0" max="100" step="1" value="25" />
                    </div>
                    <div class="parameter-group">
                      <div class="parameter-header">
                        <span class="parameter-label">Frequency Penalty</span>
                        <span class="parameter-value" id="frequencyPenaltyValue">0.03</span>
                      </div>
                      <input id="frequencyPenalty" class="parameter-slider" type="range" min="-2" max="2" step="0.01"
                        value="0.03" />
                    </div>
                    <div class="parameter-group">
                      <div class="parameter-header">
                        <span class="parameter-label">Presence Penalty</span>
                        <span class="parameter-value" id="presencePenaltyValue">0.03</span>
                      </div>
                      <input id="presencePenalty" class="parameter-slider" type="range" min="-2" max="2" step="0.01"
                        value="0.03" />
                    </div>
                    <div class="parameter-group">
                      <div class="parameter-header">
                        <span class="parameter-label">Repetition Penalty</span>
                        <span class="parameter-value" id="repetitionPenaltyValue">1.03</span>
                      </div>
                      <input id="repetitionPenalty" class="parameter-slider" type="range" min="0.1" max="2" step="0.01"
                        value="1.03" />
                    </div>
                  </div>
                </div>
              </div>

              <!-- Speech Settings Panel -->
              <div class="drawer-panel" id="drawer-panel-speech" role="tabpanel" aria-labelledby="drawer-tab-speech">
                <div class="speech-section">
                  <div class="speech-setting-group">
                    <label for="speech-stt-model" class="speech-setting-label">Speech to Text Model</label>
                    <select id="speech-stt-model" class="speech-dropdown">
                      <option value="small.en">small.en</option>
                      <option value="base.en">base.en</option>
                      <option value="distil.en">distil.en</option>
                    </select>
                  </div>
                  <div class="speech-setting-group">
                    <label class="speech-setting-label" for="speech-silero-sensitivity">Silero Sensitivity</label>
                    <input id="speech-silero-sensitivity" class="speech-slider speech-slider-white" type="range"
                      min="0.05" max="1" step="0.05" value="0.40" />
                    <div id="speech-silero-sensitivity-value" class="speech-value-display">0.40</div>
                  </div>
                  <div class="speech-setting-group">
                    <label class="speech-setting-label" for="speech-webrtc-sensitivity">WebRTC Sensitivity</label>
                    <input id="speech-webrtc-sensitivity" class="speech-slider speech-slider-blue" type="range"
                      min="0.1" max="3" step="0.1" value="3.0" />
                    <div id="speech-webrtc-sensitivity-value" class="speech-value-display">3.0</div>
                  </div>
                  <div class="speech-setting-group">
                    <label class="speech-setting-label" for="speech-post-speech-silence">Post Speech Silence
                      Duration</label>
                    <input id="speech-post-speech-silence" class="speech-slider speech-slider-purple" type="range"
                      min="0.1" max="2.0" step="0.05" value="0.90" />
                    <div id="speech-post-speech-silence-value" class="speech-value-display">0.90</div>
                  </div>
                  <div class="speech-setting-group">
                    <label class="speech-setting-label" for="speech-min-recording-length">Min Length of
                      Recording</label>
                    <input id="speech-min-recording-length" class="speech-slider speech-slider-green" type="range"
                      min="0.1" max="2.0" step="0.05" value="1.00" />
                    <div id="speech-min-recording-length-value" class="speech-value-display">1.00</div>
                  </div>
                </div>

                <div class="speech-section">
                  <div class="speech-tts-model">
                    <div class="speech-tts-header">
                      <div class="speech-tts-model-name">Kokoro</div>
                      <div class="speech-toggle-switch active" data-model="kokoro"><span
                          class="speech-toggle-slider"></span></div>
                    </div>
                    <label class="speech-setting-label" for="speech-kokoro-speed">Speed</label>
                    <input id="speech-kokoro-speed" class="speech-slider speech-slider-orange" type="range" min="0.5"
                      max="2" step="0.1" value="1.0" />
                    <div id="speech-kokoro-speed-value" class="speech-value-display">1.0</div>
                  </div>

                  <div class="speech-tts-model">
                    <div class="speech-tts-header">
                      <div class="speech-tts-model-name">Orpheus</div>
                      <div class="speech-toggle-switch" data-model="orpheus"><span class="speech-toggle-slider"></span>
                      </div>
                    </div>
                    <label class="speech-setting-label" for="speech-orpheus-temperature">Temperature</label>
                    <input id="speech-orpheus-temperature" class="speech-slider speech-slider-pink" type="range"
                      min="0.1" max="1.5" step="0.05" value="0.75" />
                    <div id="speech-orpheus-temperature-value" class="speech-value-display">0.75</div>
                    <label class="speech-setting-label" for="speech-orpheus-top-p">Top P</label>
                    <input id="speech-orpheus-top-p" class="speech-slider speech-slider-cyan" type="range" min="0.1"
                      max="1.0" step="0.05" value="0.95" />
                    <div id="speech-orpheus-top-p-value" class="speech-value-display">0.95</div>
                  </div>

                  <div class="speech-tts-model">
                    <div class="speech-tts-header">
                      <div class="speech-tts-model-name">Zonos</div>
                      <div class="speech-toggle-switch" data-model="zonos"><span class="speech-toggle-slider"></span>
                      </div>
                    </div>
                    <label class="speech-setting-label" for="speech-zonos-speaking-rate">Speaking rate</label>
                    <input id="speech-zonos-speaking-rate" class="speech-slider speech-slider-yellow" type="range"
                      min="5.0" max="30.0" step="0.5" value="15.0" />
                    <div id="speech-zonos-speaking-rate-value" class="speech-value-display">15.0</div>
                  </div>

                  <div class="speech-tts-model">
                    <div class="speech-tts-header">
                      <div class="speech-tts-model-name">Chatterbox</div>
                      <div class="speech-toggle-switch" data-model="chatterbox"><span
                          class="speech-toggle-slider"></span></div>
                    </div>
                    <label class="speech-setting-label" for="speech-chatterbox-exaggeration">Exaggeration</label>
                    <input id="speech-chatterbox-exaggeration" class="speech-slider speech-slider-red" type="range"
                      min="0.05" max="2.0" step="0.05" value="0.5" />
                    <div id="speech-chatterbox-exaggeration-value" class="speech-value-display">0.50</div>
                    <label class="speech-setting-label" for="speech-chatterbox-cfg">CFG</label>
                    <input id="speech-chatterbox-cfg" class="speech-slider speech-slider-blue" type="range" min="0.05"
                      max="1.0" step="0.05" value="0.5" />
                    <div id="speech-chatterbox-cfg-value" class="speech-value-display">0.50</div>
                    <label class="speech-setting-label" for="speech-chatterbox-temperature">Temperature</label>
                    <input id="speech-chatterbox-temperature" class="speech-slider speech-slider-purple" type="range"
                      min="0.1" max="2.0" step="0.05" value="0.8" />
                    <div id="speech-chatterbox-temperature-value" class="speech-value-display">0.80</div>
                  </div>
                </div>
              </div>
            </div>
          </aside>
        </div>
        <div class="tab-panel" id="tab-models" data-route="models" role="tabpanel" aria-labelledby="nav-models"></div>
        <div class="tab-panel" id="tab-chats" data-route="chats" role="tabpanel" aria-labelledby="nav-chats"></div>
        <div class="tab-panel" id="tab-characters" data-route="characters" role="tabpanel"
          aria-labelledby="nav-characters">
          <div class="characters-page">
            <!-- Left sidebar - Character list -->
            <div class="characters-list-section">
              <div class="characters-list-header">
                <div class="characters-list-title">Characters</div>
                <button id="add-character-btn" class="add-character-btn" aria-label="Add new character">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                  </svg>
                </button>
              </div>

              <div class="characters-search">
                <input type="text" id="characters-search-input" placeholder="Search characters..." />
              </div>

              <div id="character-list" class="character-list">
                <!-- Character cards will be populated here by characters.js -->
              </div>
            </div>

            <!-- Right side content area - Character Modal -->
            <div class="characters-content-area" id="characters-content-area">
              <!-- Empty state message -->
              <div class="characters-empty-state">
                Select a character or create a new one
              </div>

              <!-- Character modal (hidden by default) -->
              <div id="character-modal" class="character-modal">
                <div class="character-modal-header">
                  <div class="character-modal-profile">
                    <div class="character-modal-avatar-wrapper">
                      <img id="character-modal-avatar" class="character-modal-avatar" src="" alt="Character avatar"
                        style="display: none;" />
                      <div id="character-modal-avatar-placeholder" class="character-modal-avatar-placeholder">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                          stroke-width="2">
                          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                      </div>
                      <label for="character-avatar-upload" class="character-avatar-upload-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                          stroke-width="2">
                          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                          <polyline points="17 8 12 3 7 8"></polyline>
                          <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                      </label>
                      <input type="file" id="character-avatar-upload" accept="image/*" style="display: none;" />
                    </div>
                    <input type="text" id="character-name-input" class="character-name-input"
                      placeholder="Character name" />
                  </div>
                  <button id="close-character-modal" class="close-character-modal">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="18" y1="6" x2="6" y2="18"></line>
                      <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                  </button>
                </div>

                <!-- Tabs navigation -->
                <div class="character-modal-tabs">
                  <button class="character-modal-tab active" data-tab="profile">Profile</button>
                  <button class="character-modal-tab" data-tab="background">Background</button>
                </div>

                <!-- Tab content -->
                <div class="character-modal-content">
                  <div id="tab-content-profile" class="character-tab-content active">
                    <div class="character-profile-layout">
                      <!-- Left: Image -->
                      <div class="character-profile-image-container">
                        <img id="character-main-image" class="character-profile-image" src="" alt="Character profile"
                          style="display: none;" />
                        <div id="character-main-image-placeholder" class="character-profile-image-placeholder">
                          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                          </svg>
                          <p>Click to upload image</p>
                        </div>
                      </div>

                      <!-- Right: Form Fields -->
                      <div class="character-profile-form">
                        <div class="character-form-group">
                          <label for="global-roleplay-prompt">Global Roleplay System Prompt</label>
                          <textarea id="global-roleplay-prompt" class="textarea textarea-focus" rows="4"
                            placeholder="Enter a system prompt that applies to all characters..."></textarea>
                        </div>

                        <div class="character-form-group">
                          <label for="character-name-field">Character Name</label>
                          <input type="text" id="character-name-field" class="character-input"
                            placeholder="Enter character name" />
                        </div>

                        <div class="character-form-group">
                          <label for="character-voice-select">Voice</label>
                          <select id="character-voice-select" class="character-select">
                            <option value="">Select voice</option>
                          </select>
                        </div>

                        <div class="hs-accordion-group">
                          <div class="hs-accordion active" id="hs-scene-description-heading">
                            <button
                              class="hs-accordion-toggle hs-accordion-active:text-blue-600 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                              aria-expanded="false" aria-controls="hs-scene-description-collapse">
                              <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                                <path d="M12 5v14"></path>
                              </svg>
                              <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                              </svg>
                              Scene Description
                            </button>
                            <div id="hs-scene-description-collapse"
                              class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                              role="region" aria-labelledby="hs-scene-description-heading">
                              <div class="voice component-item full-width">
                                <textarea id="character-scene-description" class="textarea textarea-focus"
                                  placeholder="Describe the scene or environment..." rows="4"></textarea>
                              </div>
                            </div>
                          </div>

                          <div class="hs-accordion" id="hs-speaker-description-heading">
                            <button
                              class="hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                              aria-expanded="false" aria-controls="hs-speaker-description-collapse">
                              <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                                <path d="M12 5v14"></path>
                              </svg>
                              <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                              </svg>
                              Speaker Description
                            </button>
                            <div id="hs-speaker-description-collapse"
                              class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                              role="region" aria-labelledby="hs-speaker-description-heading">
                              <div class="voice component-item full-width">
                                <textarea id="character-speaker-description" class="textarea textarea-focus"
                                  placeholder="Describe the speaker's voice characteristics..." rows="4"></textarea>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="character-form-group">
                          <label for="character-prompt-textarea">System Prompt</label>
                          <textarea id="character-prompt-textarea" class="character-textarea" rows="4"
                            placeholder="Enter system prompt"></textarea>
                        </div>

                        <!-- Image Gallery Thumbnails -->
                        <div class="character-form-group">
                          <label>Image Gallery</label>
                          <div id="character-thumbnails-grid" class="character-thumbnails-grid">
                            <button id="add-image-btn" class="character-add-image-btn">+</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div id="tab-content-background" class="character-tab-content">
                    <!-- Background content - placeholder for future use -->
                    <div class="hs-accordion-group">
                      <div class="hs-accordion active" id="hs-background-scene-heading">
                        <button
                          class="hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                          aria-expanded="false" aria-controls="hs-background-scene-collapse">
                          <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                            <path d="M12 5v14"></path>
                          </svg>
                          <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                          </svg>
                          Scene Description
                        </button>
                        <div id="hs-background-scene-collapse"
                          class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                          role="region" aria-labelledby="hs-background-scene-heading">
                          <div class="voice component-item full-width">
                            <textarea class="textarea textarea-focus" placeholder="Type your prompt..." rows="4"></textarea>
                          </div>
                        </div>
                      </div>

                      <div class="hs-accordion" id="hs-background-speaker-heading">
                        <button
                          class="hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                          aria-expanded="false" aria-controls="hs-background-speaker-collapse">
                          <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                            <path d="M12 5v14"></path>
                          </svg>
                          <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                          </svg>
                          Speaker Description
                        </button>
                        <div id="hs-background-speaker-collapse"
                          class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                          role="region" aria-labelledby="hs-background-speaker-heading">
                          <div class="voice component-item full-width">
                            <textarea class="textarea textarea-focus" placeholder="Type your prompt..." rows="4"></textarea>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Modal footer with buttons -->
                <div class="character-modal-footer">
                  <button id="delete-character-btn" class="delete-character-btn">Delete</button>
                  <button id="save-character-btn" class="save-character-btn">Save Character</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Hidden file input for image gallery -->
          <input type="file" id="char-image-upload" accept="image/*" style="display: none;" />

          <!-- Hidden fields for form state -->
          <input type="hidden" id="editing-char-id" />
        </div>
        <div class="tab-panel" id="tab-agents" data-route="agents" role="tabpanel" aria-labelledby="nav-agents">
          <div class="agents-page">
            <!-- Left sidebar - Agent list -->
            <div class="agents-list-section">
              <div class="agents-list-header">
                <div class="agents-list-title">Agents</div>
                <button id="add-agent-btn" class="add-agent-btn" aria-label="Add new agent">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                  </svg>
                </button>
              </div>

              <div class="agents-search">
                <input type="text" id="agents-search-input" placeholder="Search agents..." />
              </div>

              <div id="agents-list" class="agents-list">
                <!-- Example agents -->
                <div class="agent-list-item active">
                  <img class="agent-list-avatar"
                    src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=100&h=100&fit=crop"
                    alt="Research Assistant" />
                  <div class="agent-list-info">
                    <div class="agent-list-name">Research Assistant</div>
                    <div class="agent-list-description">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                        <path
                          d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                      </svg>
                      Web Research
                    </div>
                  </div>
                </div>

                <div class="agent-list-item">
                  <img class="agent-list-avatar"
                    src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=100&h=100&fit=crop"
                    alt="Code Reviewer" />
                  <div class="agent-list-info">
                    <div class="agent-list-name">Code Reviewer</div>
                    <div class="agent-list-description">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                        <path
                          d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z" />
                      </svg>
                      Code Analysis
                    </div>
                  </div>
                </div>

                <div class="agent-list-item">
                  <div class="agent-list-avatar placeholder">W</div>
                  <div class="agent-list-info">
                    <div class="agent-list-name">Writing Assistant</div>
                    <div class="agent-list-description">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                        <path
                          d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" />
                      </svg>
                      Content Creation
                    </div>
                  </div>
                </div>

                <div class="agent-list-item">
                  <img class="agent-list-avatar"
                    src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop"
                    alt="Data Analyst" />
                  <div class="agent-list-info">
                    <div class="agent-list-name">Data Analyst</div>
                    <div class="agent-list-description">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                        <path
                          d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z" />
                      </svg>
                      Data Processing
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right side content area - Agent Modal -->
            <div class="agents-content-area" id="agents-content-area">
              <!-- Empty state message -->
              <div id="agents-empty-state" class="agents-empty-state">
                Select an agent or create a new one
              </div>

              <!-- Agent modal (hidden by default) -->
              <div id="agent-modal" class="agent-modal">
                <div class="agent-modal-header">
                  <div class="agent-modal-profile">
                    <div class="agent-modal-avatar-wrapper">
                      <img id="agent-modal-avatar" class="agent-modal-avatar" src="" alt="Agent avatar"
                        style="display: none;" />
                      <div id="agent-modal-avatar-placeholder" class="agent-modal-avatar-placeholder">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                          stroke-width="2">
                          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                          <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                      </div>
                      <label for="agent-avatar-upload" class="agent-avatar-upload-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                          stroke-width="2">
                          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                          <polyline points="17 8 12 3 7 8"></polyline>
                          <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                      </label>
                      <input type="file" id="agent-avatar-upload" accept="image/*" style="display: none;" />
                    </div>
                    <input type="text" id="agent-name-input" class="agent-name-input" placeholder="Agent name" />
                  </div>
                  <button id="close-agent-modal" class="close-agent-modal">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="18" y1="6" x2="6" y2="18"></line>
                      <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                  </button>
                </div>

                <!-- Tabs navigation -->
                <div class="agent-modal-tabs">
                  <button class="agent-modal-tab active" data-tab="profile">Profile</button>
                  <button class="agent-modal-tab" data-tab="background">Background</button>
                  <button class="agent-modal-tab" data-tab="chats">Chats</button>
                  <button class="agent-modal-tab" data-tab="groups">Groups</button>
                  <button class="agent-modal-tab" data-tab="memory">Memory</button>
                </div>

                <!-- Tab content -->
                <div class="agent-modal-content">
                  <div id="tab-content-profile" class="agent-tab-content active">
                    <div class="agent-profile-layout">
                      <!-- Left: Image -->
                      <div class="agent-profile-image-container">
                        <img id="agent-profile-image" class="agent-profile-image" src="" alt="Agent profile"
                          style="display: none;" />
                        <div id="agent-profile-image-placeholder" class="agent-profile-image-placeholder">
                          <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                          </svg>
                          <p>Click to upload image</p>
                        </div>
                      </div>

                      <!-- Right: Form Fields -->
                      <div class="agent-profile-form">
                        <div class="agent-form-group">
                          <label for="global-roleplay-prompt">Global Roleplay System Prompt</label>
                          <textarea id="global-roleplay-prompt" class="textarea textarea-focus"
                            rows="4">You are {character.name}, a roleplay actor engaging in a conversation with {user.name}. Your replies should be written in a conversational format, taking on the personality and characteristics of {character.name}.</textarea>
                        </div>

                        <div class="agent-form-group">
                          <label for="agent-name-field">Agent Name</label>
                          <input type="text" id="agent-name-field" class="agent-input" placeholder="Enter agent name" />
                        </div>

                        <div class="agent-form-group">
                          <label for="agent-voice">Voice</label>
                          <select id="agent-voice" class="agent-select">
                            <option value="">Select voice</option>
                            <option value="voice1">Voice 1</option>
                            <option value="voice2">Voice 2</option>
                            <option value="voice3">Voice 3</option>
                          </select>
                        </div>

                        <div class="hs-accordion-group">
                          <div class="hs-accordion active" id="hs-basic-heading-one">
                            <button
                              class="hs-accordion-toggle hs-accordion-active:text-blue-600 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                              aria-expanded="false" aria-controls="hs-basic-collapse-one">
                              <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                                <path d="M12 5v14"></path>
                              </svg>
                              <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                              </svg>
                              Scene Description
                            </button>
                            <div id="hs-basic-collapse-one"
                              class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                              role="region" aria-labelledby="hs-basic-heading-one">
                              <div class="voice component-item full-width">
                                <textarea class="textarea textarea-focus" placeholder="Type your prompt..."
                                  rows="4"></textarea>
                              </div>
                            </div>
                          </div>

                          <div class="hs-accordion" id="hs-basic-heading-two">
                            <button
                              class="hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                              aria-expanded="false" aria-controls="hs-basic-collapse-two">
                              <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                                <path d="M12 5v14"></path>
                              </svg>
                              <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 12h14"></path>
                              </svg>
                              Speaker Description
                            </button>
                            <div id="hs-basic-collapse-two"
                              class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                              role="region" aria-labelledby="hs-basic-heading-two">
                              <div class="voice component-item full-width">
                                <textarea class="textarea textarea-focus" placeholder="Type your prompt..."
                                  rows="4"></textarea>
                              </div>
                            </div>
                          </div>

                        </div>

                        <div class="agent-form-group">
                          <label for="agent-system-prompt">System Prompt</label>
                          <textarea id="agent-system-prompt" class="agent-textarea" rows="4"
                            placeholder="Enter system prompt"></textarea>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div id="tab-content-background" class="agent-tab-content">
                    <!-- Background content will go here -->

                    <div class="hs-accordion-group">
                      <div class="hs-accordion active" id="hs-basic-heading-one">
                        <button
                          class="hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                          aria-expanded="false" aria-controls="hs-basic-collapse-one">
                          <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                            <path d="M12 5v14"></path>
                          </svg>
                          <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                          </svg>
                          Scene Description
                        </button>
                        <div id="hs-basic-collapse-one"
                          class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                          role="region" aria-labelledby="hs-basic-heading-one">
                          <div class="voice component-item full-width">
                            <textarea class="textarea textarea-focus" placeholder="Type your prompt..."
                              rows="4"></textarea>
                          </div>
                        </div>
                      </div>

                      <div class="hs-accordion" id="hs-basic-heading-two">
                        <button
                          class="hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-hidden focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none dark:hs-accordion-active:text-blue-500 dark:text-neutral-200 dark:hover:text-neutral-400 dark:focus:text-neutral-400"
                          aria-expanded="false" aria-controls="hs-basic-collapse-two">
                          <svg class="hs-accordion-active:hidden block size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                            <path d="M12 5v14"></path>
                          </svg>
                          <svg class="hs-accordion-active:block hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                          </svg>
                          Speaker Description
                        </button>
                        <div id="hs-basic-collapse-two"
                          class="hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300"
                          role="region" aria-labelledby="hs-basic-heading-two">
                          <div class="voice component-item full-width">
                            <textarea class="textarea textarea-focus" placeholder="Type your prompt..."
                              rows="4"></textarea>
                          </div>
                        </div>
                      </div>

                    </div>





                    <div class="agent tabs">
                      <div class="agent tabs-header">
                        <button class="agent tab-button active" data-tab="tab1">Model</button>
                        <button class="agent tab-button" data-tab="tab2">Speech</button>
                        <button class="agent tab-button" data-tab="tab3">Settings</button>
                      </div>
                      <div class="agent tabs-content">
                        <div class="tab-panel active" id="tab1">

                        </div>
                        <div class="tab-panel" id="tab2">
                          <h3 style="margin-bottom: 12px; font-size: 16px;">Speech Settings</h3>
                          <p style="color: var(--color-text-secondary);">Adjust voice and speech synthesis
                            options.</p>
                        </div>
                        <div class="tab-panel" id="tab3">
                          <h3 style="margin-bottom: 12px; font-size: 16px;">General Settings</h3>
                          <p style="color: var(--color-text-secondary);">Manage your application preferences and
                            settings.</p>
                        </div>
                      </div>
                    </div>

                  </div>
                  <div id="tab-content-chats" class="agent-tab-content">
                    <!-- Chats content will go here -->
                    <p>Chats settings coming soon...</p>
                  </div>
                  <div id="tab-content-groups" class="agent-tab-content">
                    <!-- Groups content will go here -->
                    <p>Groups settings coming soon...</p>
                  </div>
                  <div id="tab-content-memory" class="agent-tab-content">
                    <!-- Memory content will go here -->
                    <p>Memory settings coming soon...</p>
                  </div>
                </div>

                <!-- Modal footer with buttons -->
                <div class="agent-modal-footer">
                  <button id="delete-agent-btn" class="delete-agent-btn">Delete</button>
                  <button id="chat-agent-btn" class="chat-agent-btn">Chat</button>
                  <button id="save-agent-btn" class="save-agent-btn">Save Agent</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-panel" id="tab-speech" data-route="speech" role="tabpanel" aria-labelledby="nav-speech"></div>
        <div class="tab-panel" id="tab-settings" data-route="settings" role="tabpanel" aria-labelledby="nav-settings">
        </div>
      </section>
    </main>
  </div>

  <!-- Scripts -->

  <!-- Audio processing -->
  <script src="stt-audio.js"></script>
  <script src="audio-playback.js"></script>

  <!-- Connection -->
  <script src="websocket.js"></script>

  <!-- Characters -->
  <script src="characters.js"></script>

  <!-- Agents -->
  <script src="agents.js"></script>

  <!-- Core managers -->
  <script src="interface.js"></script>

  <script src="components/components.js"></script>

  <!-- App initialization (must be last) -->
  <script src="app.js"></script>

</html>
